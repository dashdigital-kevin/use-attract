{"version":3,"file":"index.mjs","sources":["../src/useMobile.js","../src/useMagnetic.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n     const useMobile = (breakpoint = 1280) => {\r\n       const [width, setWidth] = useState(\r\n         typeof window !== 'undefined' ? window.innerWidth : null\r\n       );\r\n\r\n       useEffect(() => {\r\n         if (typeof window === 'undefined') return;\r\n\r\n         const handleResize = () => setWidth(window.innerWidth);\r\n         setTimeout(() => handleResize(), 1); // Initial resize call\r\n         window.addEventListener('resize', handleResize);\r\n         return () => window.removeEventListener('resize', handleResize);\r\n       }, []);\r\n\r\n       return width === null ? undefined : width <= breakpoint;\r\n     };\r\n\r\n     export default useMobile;\r\n","import { useState, useRef, useEffect } from 'react';\r\nimport useMobile from './useMobile';\r\n\r\nconst useMagnetic = ({\r\n  enabled = true,\r\n  strength = 50,\r\n  magneticField = 32,\r\n  lerpFactor = 0.2,\r\n} = {}) => {\r\n  const mobile = useMobile();\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const elementRef = useRef(null);\r\n\r\n  // Skip execution during SSR\r\n  if (typeof window === 'undefined') {\r\n    return {\r\n      ref: elementRef,\r\n      style: { transform: 'translate(0rem, 0rem)' },\r\n      position,\r\n    };\r\n  }\r\n\r\n  const lerp = (start, end, factor) => start + (end - start) * factor;\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (mobile || !elementRef.current || !enabled) return;\r\n\r\n    const element = elementRef.current;\r\n    const bounds = element.getBoundingClientRect();\r\n\r\n    const elementCenterX = bounds.left + bounds.width / 2;\r\n    const elementCenterY = bounds.top + bounds.height / 2;\r\n    const distanceX = e.clientX - elementCenterX;\r\n    const distanceY = e.clientY - elementCenterY;\r\n\r\n    const extendedBounds = {\r\n      left: bounds.left - magneticField,\r\n      right: bounds.right + magneticField,\r\n      top: bounds.top - magneticField,\r\n      bottom: bounds.bottom + magneticField,\r\n    };\r\n\r\n    if (\r\n      e.clientX >= extendedBounds.left &&\r\n      e.clientX <= extendedBounds.right &&\r\n      e.clientY >= extendedBounds.top &&\r\n      e.clientY <= extendedBounds.bottom\r\n    ) {\r\n      const maxDistance = Math.max(bounds.width, bounds.height) / 2 + magneticField;\r\n      const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\r\n\r\n      const easeOutQuart = (x) => 1 - Math.pow(1 - x, 4);\r\n      const pull = easeOutQuart(Math.max(0, 1 - distance / maxDistance));\r\n\r\n      const targetX = (distanceX / maxDistance) * strength * pull;\r\n      const targetY = (distanceY / maxDistance) * strength * pull;\r\n\r\n      setPosition((prev) => ({\r\n        x: lerp(prev.x, targetX, lerpFactor),\r\n        y: lerp(prev.y, targetY, lerpFactor),\r\n      }));\r\n    } else {\r\n      handleMouseLeave();\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setPosition((prev) => ({\r\n      x: lerp(prev.x, 0, lerpFactor),\r\n      y: lerp(prev.y, 0, lerpFactor),\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (mobile || !enabled) return;\r\n\r\n    let animationFrameId;\r\n    let isMoving = false;\r\n\r\n    const animate = () => {\r\n      handleMouseMove(lastMouseEvent);\r\n      animationFrameId = requestAnimationFrame(animate);\r\n    };\r\n\r\n    let lastMouseEvent;\r\n    const handleGlobalMouseMove = (e) => {\r\n      lastMouseEvent = e;\r\n      if (!isMoving) {\r\n        isMoving = true;\r\n        animate();\r\n      }\r\n    };\r\n\r\n    const handleGlobalMouseLeave = () => {\r\n      isMoving = false;\r\n      cancelAnimationFrame(animationFrameId);\r\n      handleMouseLeave();\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleGlobalMouseMove);\r\n    document.addEventListener('mouseleave', handleGlobalMouseLeave);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleGlobalMouseMove);\r\n      document.removeEventListener('mouseleave', handleGlobalMouseLeave);\r\n      cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, [mobile, enabled, strength, magneticField, lerpFactor]);\r\n\r\n  const magneticStyle = {\r\n    transform: `translate(${position.x}rem, ${position.y}rem)`,\r\n    transition:\r\n      position.x === 0 && position.y === 0\r\n        ? 'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)'\r\n        : 'none',\r\n  };\r\n\r\n  return {\r\n    ref: elementRef,\r\n    style: magneticStyle,\r\n    position,\r\n  };\r\n};\r\n\r\nexport default useMagnetic;"],"names":["useMobile","breakpoint","width","setWidth","useState","window","innerWidth","useEffect","handleResize","setTimeout","addEventListener","removeEventListener","undefined","useMagnetic","enabled","strength","magneticField","lerpFactor","mobile","position","setPosition","x","y","elementRef","useRef","ref","style","transform","lerp","start","end","factor","handleMouseLeave","prev","animationFrameId","isMoving","animate","e","current","bounds","getBoundingClientRect","elementCenterX","left","elementCenterY","top","height","distanceX","clientX","distanceY","clientY","extendedBounds","right","bottom","maxDistance","Math","max","distance","sqrt","pull","pow","targetX","targetY","handleMouseMove","lastMouseEvent","requestAnimationFrame","handleGlobalMouseMove","handleGlobalMouseLeave","cancelAnimationFrame","document","magneticStyle","transition"],"mappings":"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"}